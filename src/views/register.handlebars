<h1>Registrarse</h1>
{{#if error }}
    <p>{{error}}</p>
{{/if}}
<form id="registerForm" action="/register" method="post">
    <label for="userEmail">Correo electr칩nico</label>
    <input id="userEmail" type="email" placeholder="Correo">
    <label for="userPassword">Contrase침a</label>
    <input id="userPassword" type="password" placeholder="contrase침a">
    <button type="submit">Registrarse</button>
    <a href="/login">Iniciar sesi칩n</a>
</form>

<script>
    document.getElementById('registerForm').addEventListener('submit', function(event){
        event.preventDefault();
        fetch('http://localhost:8080/register', {
            method: "POST",
            body: JSON.stringify({
                email: event.target.userEmail.value,
                password: event.target.userPassword.value,
            }),
            headers: {
                "Content-type": "application/json",
            }
        })
        .then(()=>{
            alert('Success');
            window.location = "http://localhost:8080/login";
        }).catch(err=>{
            alert(err);
        });
    })
</script>